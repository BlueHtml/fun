!function(t){function i(t,i){this.el=t,this.options=extend({},this.options),extend(this.options,i),this.midiCode=this.options.midiCode,this._initEvents(),this.notes=this.options.notes,this.currentNote=0}i.prototype.options={notes:[39],midiCode:0,noteOffDelay:1,onPlay:function(){return!1}},i.prototype._initEvents=function(){var t=this,i=mobilecheck(),n={down:i?"touchstart":"mousedown",up:i?"touchend":"mouseup",move:i?"touchmove":"mousemove"};i?(this.el.addEventListener(n.down,function(i){t.isScrolling=!1}),this.el.addEventListener(n.move,function(i){t.isScrolling=!0}),this.el.addEventListener(n.up,function(i){t.isScrolling||t._play()})):this.el.addEventListener(n.down,function(i){t._play()})},i.prototype._play=function(){if(!this.isPlaying){this.isPlaying=!0;var t=this.notes[this.currentNote];this.currentNote=this.currentNote<this.notes.length-1?this.currentNote+1:0,MIDI.programChange(0,this.midiCode),MIDI.noteOn(0,t+21,127,0),MIDI.noteOff(0,t+21,this.options.noteOffDelay/1e3),this.options.onPlay(this)}},t.Instrument=i}(window);