!function(t){function e(t){this.el=t,this.midiCode=40,this.notes=[15,17,19,20,22,24,26,27,29,31,32,34,36,38,39,41,43,44,46,48,50,51],this.notesTotal=this.notes.length,this._initEvents()}e.prototype._initEvents=function(){var t=this,e=mobilecheck(),o={down:e?"touchstart":"mousedown",up:e?"touchend":"mouseup",move:e?"touchmove":"mousemove"};this.mousedownFn=function(e){t.mdown=!0;var o=t._getNote(e);t._play(o,"on")},this.el.addEventListener(o.down,this.mousedownFn),this.mouseupFn=function(e){if(!t.mdown)return!1;t.mdown=!1;var o=t._getNote(e);t._play(o,"off")},this.el.addEventListener(o.up,this.mouseupFn),this.mousemoveFn=function(e){if(!t.mdown)return!1;requestAnimationFrame(function(){var o=t._getNote(e);o!=t.currentNote&&(t._play(t.currentNote,"off",0),t._play(o,"on"))})},this.el.addEventListener(o.move,this.mousemoveFn),e||(this.mouseleaveFn=function(e){t.mdown&&(t.mdown=!1,t._play(t.currentNote,"off",0))},this.el.addEventListener("mouseleave",this.mouseleaveFn))},e.prototype._getNote=function(t){var e=getMousePos(t),o=this.el.offsetWidth,n=document.body.scrollLeft+document.documentElement.scrollLeft,i=document.body.scrollTop+document.documentElement.scrollTop,s=this.el.getBoundingClientRect(),u=e.x-s.left-n;e.y,s.top;return this.notes[Math.floor((this.notesTotal-1)/o*u)]},e.prototype._play=function(t,e,o){t=parseInt(t)+21;if(MIDI.programChange(0,this.midiCode),"on"===e)this.currentNote=t-21,MIDI.noteOn(0,t,127,0);else{o=o||.1,MIDI.noteOff(0,t,o)}},t.Violin=e}(window);